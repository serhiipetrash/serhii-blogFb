{"remainingRequest":"/home/sp/Documents/Vue3Firebase/serhii-blog2FB/node_modules/babel-loader/lib/index.js!/home/sp/Documents/Vue3Firebase/serhii-blog2FB/src/composables/getPosts.js","dependencies":[{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2FB/src/composables/getPosts.js","mtime":1643990488150},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2FB/babel.config.js","mtime":1643785385798},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2FB/node_modules/cache-loader/dist/cjs.js","mtime":1643785380808},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2FB/node_modules/babel-loader/lib/index.js","mtime":1643785381678}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvc3AvRG9jdW1lbnRzL1Z1ZTNGaXJlYmFzZS9zZXJoaWktYmxvZzJGQi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zcC9Eb2N1bWVudHMvVnVlM0ZpcmViYXNlL3NlcmhpaS1ibG9nMkZCL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBwcm9qZWN0RmlyZXN0b3JlIH0gZnJvbSAnLi4vZmlyZWJhc2UvY29uZmlnJzsKCnZhciBnZXRQb3N0cyA9IGZ1bmN0aW9uIGdldFBvc3RzKCkgewogIHZhciBwb3N0cyA9IHJlZihbXSk7CiAgdmFyIGVycm9yID0gcmVmKG51bGwpOwoKICB2YXIgbG9hZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0RmlyZXN0b3JlLmNvbGxlY3Rpb24oJ3Bvc3RzJykuZ2V0KCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBwb3N0cy52YWx1ZSA9IHJlcy5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRvYy5kYXRhKCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZG9jLmRhdGEoKSksIHt9LCB7CiAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gX2NvbnRleHQudDAubWVzc2FnZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci52YWx1ZSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgcmV0dXJuIHsKICAgIHBvc3RzOiBwb3N0cywKICAgIGVycm9yOiBlcnJvciwKICAgIGxvYWQ6IGxvYWQKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgZ2V0UG9zdHM7"},{"version":3,"sources":["/home/sp/Documents/Vue3Firebase/serhii-blog2FB/src/composables/getPosts.js"],"names":["ref","projectFirestore","getPosts","posts","error","load","collection","get","res","value","docs","map","doc","data","id","message","console","log"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,MAAMC,KAAK,GAAGH,GAAG,CAAC,EAAD,CAAjB;AACA,MAAMI,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;;AAEA,MAAMK,IAAI;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAESJ,gBAAgB,CAACK,UAAjB,CAA4B,OAA5B,EAAqCC,GAArC,EAFT;;AAAA;AAEHC,cAAAA,GAFG;AAITL,cAAAA,KAAK,CAACM,KAAN,GAAcD,GAAG,CAACE,IAAJ,CAASC,GAAT,CAAa,UAACC,GAAD,EAAS;AAClC;AACA,uDAAYA,GAAG,CAACC,IAAJ,EAAZ;AAAwBC,kBAAAA,EAAE,EAAEF,GAAG,CAACE;AAAhC;AACD,eAHa,CAAd;AAJS;AAAA;;AAAA;AAAA;AAAA;AASTV,cAAAA,KAAK,CAACK,KAAN,GAAc,YAAIM,OAAlB;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACK,KAAlB;;AAVS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAJJ,IAAI;AAAA;AAAA;AAAA,KAAV;;AAaA,SAAO;AAAEF,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,KAAK,EAALA,KAAT;AAAgBC,IAAAA,IAAI,EAAJA;AAAhB,GAAP;AACD,CAlBD;;AAmBA,eAAeH,QAAf","sourcesContent":["import { ref } from 'vue';\nimport { projectFirestore } from '../firebase/config';\n\nconst getPosts = () => {\n  const posts = ref([]);\n  const error = ref(null);\n\n  const load = async () => {\n    try {\n      const res = await projectFirestore.collection('posts').get();\n\n      posts.value = res.docs.map((doc) => {\n        //console.log(doc.data());\n        return { ...doc.data(), id: doc.id };\n      });\n    } catch (err) {\n      error.value = err.message;\n      console.log(error.value);\n    }\n  };\n  return { posts, error, load };\n};\nexport default getPosts;\n"]}]}