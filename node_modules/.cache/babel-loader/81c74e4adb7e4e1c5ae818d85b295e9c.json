{"remainingRequest":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/babel-loader/lib/index.js!/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sp/Documents/Vue3Firebase/serhii-blog2/src/views/Create.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/src/views/Create.vue","mtime":1643894409492},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/babel.config.js","mtime":1643785385798},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/cache-loader/dist/cjs.js","mtime":1643785380808},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/babel-loader/lib/index.js","mtime":1643785381678},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/cache-loader/dist/cjs.js","mtime":1643785380808},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/vue-loader-v16/dist/index.js","mtime":1643785381668}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NwL0RvY3VtZW50cy9WdWUzRmlyZWJhc2Uvc2VyaGlpLWJsb2cyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyByZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciB0aXRsZSA9IHJlZignJyk7CiAgICB2YXIgYm9keSA9IHJlZignJyk7CiAgICB2YXIgdGFnID0gcmVmKCcnKTsKICAgIHZhciB0YWdzID0gcmVmKFtdKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsgLy8gY29uc29sZS5sb2cocm91dGVyKTsKICAgIC8vIHJvdXRlci5nbygtMSkKICAgIC8vIHJvdXRlci5nbygxKQoKICAgIHZhciBoYW5kbGVLZXlkb3duID0gZnVuY3Rpb24gaGFuZGxlS2V5ZG93bigpIHsKICAgICAgaWYgKCF0YWdzLnZhbHVlLmluY2x1ZGVzKHRhZy52YWx1ZSkpIHsKICAgICAgICB0YWcudmFsdWUgPSB0YWcudmFsdWUucmVwbGFjZSgvXHMvLCAnJyk7IC8vIHJlbW92ZSBhbGwgd2hpdGVzcGFjZQoKICAgICAgICB0YWdzLnZhbHVlLnB1c2godGFnLnZhbHVlKTsKICAgICAgfQoKICAgICAgdGFnLnZhbHVlID0gJyc7CiAgICB9OwoKICAgIHZhciBoZW5kbGVTdWJtaXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcG9zdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwb3N0ID0gewogICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUudmFsdWUsCiAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHkudmFsdWUsCiAgICAgICAgICAgICAgICAgIHRhZ3M6IHRhZ3MudmFsdWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Bvc3RzJywgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocG9zdCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdIb21lJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaGVuZGxlU3VibWl0KCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6IHRpdGxlLAogICAgICBib2R5OiBib2R5LAogICAgICB0YWc6IHRhZywKICAgICAgaGFuZGxlS2V5ZG93bjogaGFuZGxlS2V5ZG93biwKICAgICAgdGFnczogdGFncywKICAgICAgaGVuZGxlU3VibWl0OiBoZW5kbGVTdWJtaXQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/home/sp/Documents/Vue3Firebase/serhii-blog2/src/views/Create.vue"],"names":[],"mappings":";;;;;;;;AAgBA,SAAS,GAAT,QAAoB,iBAApB;AACA,SAAS,SAAT,QAA0B,YAA1B;AAEA,eAAe;AACb,EAAA,KADa,mBACL;AACN,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAM,IAAG,GAAI,GAAG,CAAC,EAAD,CAAhB;AACA,QAAM,GAAE,GAAI,GAAG,CAAC,EAAD,CAAf;AACA,QAAM,IAAG,GAAI,GAAG,CAAC,EAAD,CAAhB;AAEA,QAAM,MAAK,GAAI,SAAS,EAAxB,CANM,CAON;AACA;AACA;;AAEA,QAAM,aAAY,GAAI,SAAhB,aAAgB,GAAM;AAC1B,UAAI,CAAC,IAAI,CAAC,KAAL,CAAW,QAAX,CAAoB,GAAG,CAAC,KAAxB,CAAL,EAAqC;AACnC,QAAA,GAAG,CAAC,KAAJ,GAAY,GAAG,CAAC,KAAJ,CAAU,OAAV,CAAkB,IAAlB,EAAwB,EAAxB,CAAZ,CADmC,CACM;;AACzC,QAAA,IAAI,CAAC,KAAL,CAAW,IAAX,CAAgB,GAAG,CAAC,KAApB;AACF;;AACA,MAAA,GAAG,CAAC,KAAJ,GAAY,EAAZ;AACD,KAND;;AAOA,QAAM,YAAW;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,gBAAA,IADa,GACN;AACX,kBAAA,KAAK,EAAE,KAAK,CAAC,KADF;AAEX,kBAAA,IAAI,EAAE,IAAI,CAAC,KAFA;AAGX,kBAAA,IAAI,EAAE,IAAI,CAAC;AAHA,iBADM;AAAA;AAAA,uBAMb,KAAK,CAAC,6BAAD,EAAgC;AACzC,kBAAA,MAAM,EAAE,MADiC;AAEzC,kBAAA,OAAO,EAAE;AAAE,oCAAgB;AAAlB,mBAFgC;AAGzC,kBAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe,IAAf;AAHmC,iBAAhC,CANQ;;AAAA;AAWnB,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;;AAXmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAX,YAAW;AAAA;AAAA;AAAA,OAAjB;;AAcA,WAAO;AAAE,MAAA,KAAK,EAAL,KAAF;AAAS,MAAA,IAAI,EAAJ,IAAT;AAAe,MAAA,GAAG,EAAH,GAAf;AAAoB,MAAA,aAAa,EAAb,aAApB;AAAmC,MAAA,IAAI,EAAJ,IAAnC;AAAyC,MAAA,YAAW,EAAX;AAAzC,KAAP;AACD;AAlCY,CAAf","sourcesContent":["<template>\n  <div class=\"create\">\n    <form @submit.prevent=\"hendleSubmit\">\n      <label>Title:</label>\n      <input v-model=\"title\" type=\"text\" required />\n      <label>Content:</label>\n      <textarea v-model=\"body\" required></textarea>\n      <label>Tag (hit enter to add a tag)</label>\n      <input v-model=\"tag\" type=\"text\" @keydown.enter.prevent=\"handleKeydown\" />\n      <div v-for=\"tag in tags\" :key=\"tag\" class=\"pill\">#{{ tag }}</div>\n      <button>Add Post</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from '@vue/reactivity';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const title = ref('');\n    const body = ref('');\n    const tag = ref('');\n    const tags = ref([]);\n\n    const router = useRouter();\n    // console.log(router);\n    // router.go(-1)\n    // router.go(1)\n\n    const handleKeydown = () => {\n      if (!tags.value.includes(tag.value)) {\n        tag.value = tag.value.replace(/\\s/, ''); // remove all whitespace\n        tags.value.push(tag.value);\n      }\n      tag.value = '';\n    };\n    const hendleSubmit = async () => {\n      const post = {\n        title: title.value,\n        body: body.value,\n        tags: tags.value,\n      };\n      await fetch('http://localhost:3000/posts', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(post),\n      });\n      router.push({ name: 'Home' });\n    };\n\n    return { title, body, tag, handleKeydown, tags, hendleSubmit };\n  },\n};\n</script>\n\n<style>\nform {\n  max-width: 480px;\n  margin: 0 auto;\n  text-align: left;\n}\ninput,\ntextarea {\n  display: block;\n  margin: 10px 0;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 10px;\n  border: 1px solid #eee;\n}\ntextarea {\n  height: 160px;\n}\nlabel {\n  display: inline-block;\n  margin-top: 30px;\n  position: relative;\n  font-size: 20px;\n  color: white;\n  margin-bottom: 10px;\n}\nlabel::before {\n  content: '';\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: #ff8800;\n  position: absolute;\n  z-index: -1;\n  padding-right: 40px;\n  left: -30px;\n  transform: rotateZ(-1.5deg);\n}\nbutton {\n  display: block;\n  margin-top: 30px;\n  background: #ff8800;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  font-size: 18px;\n}\n.pill {\n  display: inline-block;\n  margin: 10px 10px 0 0;\n  color: #444;\n  background: #ddd;\n  padding: 8px;\n  border-radius: 20px;\n  font-size: 14px;\n}\n</style>\n"],"sourceRoot":""}]}