{"remainingRequest":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/babel-loader/lib/index.js!/home/sp/Documents/Vue3Firebase/serhii-blog2/src/composables/getPost.js","dependencies":[{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/src/composables/getPost.js","mtime":1643892096277},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/babel.config.js","mtime":1643785385798},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/cache-loader/dist/cjs.js","mtime":1643785380808},{"path":"/home/sp/Documents/Vue3Firebase/serhii-blog2/node_modules/babel-loader/lib/index.js","mtime":1643785381678}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NwL0RvY3VtZW50cy9WdWUzRmlyZWJhc2Uvc2VyaGlpLWJsb2cyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwoKdmFyIGdldFBvc3QgPSBmdW5jdGlvbiBnZXRQb3N0KGlkKSB7CiAgdmFyIHBvc3QgPSByZWYobnVsbCk7CiAgdmFyIGVycm9yID0gcmVmKG51bGwpOwoKICB2YXIgbG9hZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcG9zdHMvJyArIGlkKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKGRhdGEub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBFcnJvcigndGhhdCBwb3N0IGRvZXNub3QgZXhpc3QnKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBwb3N0LnZhbHVlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gX2NvbnRleHQudDAubWVzc2FnZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci52YWx1ZSk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEzXV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBsb2FkKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICBwb3N0OiBwb3N0LAogICAgZXJyb3I6IGVycm9yLAogICAgbG9hZDogbG9hZAogIH07Cn07CgpleHBvcnQgZGVmYXVsdCBnZXRQb3N0Ow=="},{"version":3,"sources":["/home/sp/Documents/Vue3Firebase/serhii-blog2/src/composables/getPost.js"],"names":["ref","getPost","id","post","error","load","Promise","resolve","setTimeout","fetch","data","ok","Error","json","value","message","console","log"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,KAApB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,EAAD,EAAQ;AACtB,MAAMC,IAAI,GAAGH,GAAG,CAAC,IAAD,CAAhB;AACA,MAAMI,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;;AAEA,MAAMK,IAAI;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGH,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC7BC,gBAAAA,UAAU,CAACD,OAAD,EAAU,IAAV,CAAV;AACD,eAFK,CAHG;;AAAA;AAAA;AAAA,qBAOQE,KAAK,CAAC,iCAAiCP,EAAlC,CAPb;;AAAA;AAOLQ,cAAAA,IAPK;;AAAA,kBAQJA,IAAI,CAACC,EARD;AAAA;AAAA;AAAA;;AAAA,oBASDC,KAAK,CAAC,yBAAD,CATJ;;AAAA;AAAA;AAAA,qBAWUF,IAAI,CAACG,IAAL,EAXV;;AAAA;AAWTV,cAAAA,IAAI,CAACW,KAXI;AAAA;AAAA;;AAAA;AAAA;AAAA;AAaTV,cAAAA,KAAK,CAACU,KAAN,GAAc,YAAIC,OAAlB;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACU,KAAlB;;AAdS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAJT,IAAI;AAAA;AAAA;AAAA,KAAV;;AAiBA,SAAO;AAAEF,IAAAA,IAAI,EAAJA,IAAF;AAAQC,IAAAA,KAAK,EAALA,KAAR;AAAeC,IAAAA,IAAI,EAAJA;AAAf,GAAP;AACD,CAtBD;;AAwBA,eAAeJ,OAAf","sourcesContent":["import { ref } from 'vue';\n\nconst getPost = (id) => {\n  const post = ref(null);\n  const error = ref(null);\n\n  const load = async () => {\n    try {\n      //simulate delay\n      await new Promise((resolve) => {\n        setTimeout(resolve, 2000);\n      });\n\n      let data = await fetch('http://localhost:3000/posts/' + id);\n      if (!data.ok) {\n        throw Error('that post doesnot exist');\n      }\n      post.value = await data.json();\n    } catch (err) {\n      error.value = err.message;\n      console.log(error.value);\n    }\n  };\n  return { post, error, load };\n};\n\nexport default getPost;\n"]}]}